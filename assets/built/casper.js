!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var o=this._events=this._events||{},e=o[e]=o[e]||[];return-1==e.indexOf(t)&&e.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var o=this._onceEvents=this._onceEvents||{};return(o[e]=o[e]||{})[t]=!0,this}},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length){t=e.indexOf(t);return-1!=t&&e.splice(t,1),this}},t.emitEvent=function(e,t){var o=this._events&&this._events[e];if(o&&o.length){o=o.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],i=0;i<o.length;i++){var r=o[i];n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,o){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return o(t,e)}):"object"==typeof module&&module.exports?module.exports=o(t,require("ev-emitter")):t.imagesLoaded=o(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function r(e,t){for(var o in t)e[o]=t[o];return e}function d(e,t,o){if(!(this instanceof d))return new d(e,t,o);var n,i=e;return(i="string"==typeof e?document.querySelectorAll(e):i)?(this.elements=(n=i,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?c.call(n):[n]),this.options=r({},this.options),"function"==typeof t?o=t:r(this.options,t),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(i||e))}function o(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}var s=t.jQuery,a=t.console,c=Array.prototype.slice;(d.prototype=Object.create(e.prototype)).options={},d.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},d.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&m[t]){for(var o=e.querySelectorAll("img"),n=0;n<o.length;n++){var i=o[n];this.addImage(i)}if("string"==typeof this.options.background)for(var r=e.querySelectorAll(this.options.background),n=0;n<r.length;n++){var d=r[n];this.addElementBackgroundImages(d)}}};var m={1:!0,9:!0,11:!0};return d.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var o=/url\((['"])?(.*?)\1\)/gi,n=o.exec(t.backgroundImage);null!==n;){var i=n&&n[2];i&&this.addBackground(i,e),n=o.exec(t.backgroundImage)}},d.prototype.addImage=function(e){e=new o(e);this.images.push(e)},d.prototype.addBackground=function(e,t){t=new n(e,t);this.images.push(t)},d.prototype.check=function(){function t(e,t,o){setTimeout(function(){n.progress(e,t,o)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},d.prototype.progress=function(e,t,o){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+o,e,t)},d.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(o.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(o.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(d.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new d(this,e,t).jqDeferred.promise(s(this))})})(),d}),function(r){"use strict";r.fn.fitVids=function(e){var t,o,i={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])),e&&r.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);e=r(this).find(e.join(","));(e=(e=e.not("object object")).not(n)).each(function(){var e,t,o=r(this);0<o.parents(n).length||"embed"===this.tagName.toLowerCase()&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||(o.css("height")||o.css("width")||!isNaN(o.attr("height"))&&!isNaN(o.attr("width"))||(o.attr("height",9),o.attr("width",16)),e=("object"===this.tagName.toLowerCase()||o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))?parseInt(o.attr("height"),10):o.height())/(isNaN(parseInt(o.attr("width"),10))?o.width():parseInt(o.attr("width"),10)),o.attr("name")||(t="fitvid"+r.fn.fitVids._count,o.attr("name",t),r.fn.fitVids._count++),o.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),o.removeAttr("height").removeAttr("width"))})})},r.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).mediumZoom=t()}(this,function(){"use strict";function t(e){return"IMG"===e.tagName}function w(e){return e&&1===e.nodeType}function c(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()}function a(e){try{return Array.isArray(e)?e.filter(t):NodeList.prototype.isPrototypeOf(e)?[].slice.call(e).filter(t):w(e)?[e].filter(t):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(t):[]}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}}function b(e,t){var o=z({bubbles:!1,cancelable:!1,detail:void 0},t);return"function"==typeof window.CustomEvent?new CustomEvent(e,o):((t=document.createEvent("CustomEvent")).initCustomEvent(e,o.bubbles,o.cancelable,o.detail),t)}var e,o,n,i,z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o,n=arguments[t];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};return e=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}",i=(o=void 0===o?{}:o).insertAt,"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("style")).type="text/css","top"===i&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))),function e(t,o){function n(){function m(){var e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},t=void 0,o=void 0;g.container&&(g.container instanceof Object?(t=(e=z({},e,g.container)).width-e.left-e.right-2*g.margin,o=e.height-e.top-e.bottom-2*g.margin):(r=(i=(w(g.container)?g.container:document.querySelector(g.container)).getBoundingClientRect()).width,a=i.height,d=i.left,s=i.top,e=z({},e,{width:r,height:a,left:d,top:s}))),t=t||e.width-2*g.margin,o=o||e.height-2*g.margin;var n=v.zoomedHd||v.original,i=!c(n)&&n.naturalWidth||t,r=!c(n)&&n.naturalHeight||o,d=(a=n.getBoundingClientRect()).top,s=a.left,n=a.width,a=a.height,i=Math.min(Math.max(n,i),t)/n,r=Math.min(Math.max(a,r),o)/a,r="scale("+(r=Math.min(i,r))+") translate3d("+((t-n)/2-s+g.margin+e.left)/r+"px, "+((o-a)/2-d+g.margin+e.top)/r+"px, 0)";v.zoomed.style.transform=r,v.zoomedHd&&(v.zoomedHd.style.transform=r)}var l=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).target;return new r(function(t){if(l&&-1===h.indexOf(l))t(E);else if(v.zoomed)t(E);else{if(l)v.original=l;else{if(!(0<h.length))return void t(E);v.original=h[0]}var e,o;v.original.dispatchEvent(b("medium-zoom:open",{detail:{zoom:E}})),p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,f=!0,v.zoomed=(n=v.original,i=n.getBoundingClientRect(),r=i.top,d=i.left,s=i.width,a=i.height,c=n.cloneNode(),i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,c.removeAttribute("id"),c.style.position="absolute",c.style.top=r+i+"px",c.style.left=d+n+"px",c.style.width=s+"px",c.style.height=a+"px",c.style.transform="",c),document.body.appendChild(y),g.template&&(c=w(g.template)?g.template:document.querySelector(g.template),v.template=document.createElement("div"),v.template.appendChild(c.content.cloneNode(!0)),document.body.appendChild(v.template)),v.original.parentElement&&"PICTURE"===v.original.parentElement.tagName&&v.original.currentSrc&&(v.zoomed.src=v.original.currentSrc),document.body.appendChild(v.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),v.original.classList.add("medium-zoom-image--hidden"),v.zoomed.classList.add("medium-zoom-image--opened"),v.zoomed.addEventListener("click",u),v.zoomed.addEventListener("transitionend",function e(){f=!1,v.zoomed.removeEventListener("transitionend",e),v.original.dispatchEvent(b("medium-zoom:opened",{detail:{zoom:E}})),t(E)}),v.original.getAttribute("data-zoom-src")?(v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("srcset"),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading"),v.zoomedHd.src=v.zoomed.getAttribute("data-zoom-src"),v.zoomedHd.onerror=function(){clearInterval(e),console.warn("Unable to reach the zoom image target "+v.zoomedHd.src),v.zoomedHd=null,m()},e=setInterval(function(){v.zoomedHd.complete&&(clearInterval(e),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",u),document.body.appendChild(v.zoomedHd),m())},10)):v.original.hasAttribute("srcset")?(v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading"),o=v.zoomedHd.addEventListener("load",function(){v.zoomedHd.removeEventListener("load",o),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",u),document.body.appendChild(v.zoomedHd),m()})):m()}var n,i,r,d,s,a,c})}var i=1<arguments.length&&void 0!==o?o:{},r=window.Promise||function(e){function t(){}e(t,t)},o=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=t.reduce(function(e,t){return[].concat(e,a(t))},[]);return i.filter(function(e){return-1===h.indexOf(e)}).forEach(function(e){h.push(e),e.classList.add("medium-zoom-image")}),s.forEach(function(e){var t=e.type,o=e.listener,n=e.options;i.forEach(function(e){e.addEventListener(t,o,n)})}),E},u=function(){return new r(function(t){!f&&v.original?(f=!0,document.body.classList.remove("medium-zoom--opened"),v.zoomed.style.transform="",v.zoomedHd&&(v.zoomedHd.style.transform=""),v.template&&(v.template.style.transition="opacity 150ms",v.template.style.opacity=0),v.original.dispatchEvent(b("medium-zoom:close",{detail:{zoom:E}})),v.zoomed.addEventListener("transitionend",function e(){v.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(v.zoomed),v.zoomedHd&&document.body.removeChild(v.zoomedHd),document.body.removeChild(y),v.zoomed.classList.remove("medium-zoom-image--opened"),v.template&&document.body.removeChild(v.template),f=!1,v.zoomed.removeEventListener("transitionend",e),v.original.dispatchEvent(b("medium-zoom:closed",{detail:{zoom:E}})),v.original=null,v.zoomed=null,v.zoomedHd=null,v.template=null,t(E)})):t(E)})},d=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).target;return v.original?u():n({target:e})},h=[],s=[],f=!1,p=0,g=i,v={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?g=t:!t&&"string"!=typeof t||o(t),g=z({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},g);var y=(i=g.background,(t=document.createElement("div")).classList.add("medium-zoom-overlay"),t.style.background=i,t);document.addEventListener("click",function(e){e=e.target;e!==y?-1!==h.indexOf(e)&&d({target:e}):u()}),document.addEventListener("keyup",function(e){e=e.key||e.keyCode;"Escape"!==e&&"Esc"!==e&&27!==e||u()}),document.addEventListener("scroll",function(){var e;!f&&v.original&&(e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,Math.abs(p-e)>g.scrollOffset&&setTimeout(u,150))}),window.addEventListener("resize",u);var E={open:n,close:u,toggle:d,update:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e;return e.background&&(y.style.background=e.background),e.container&&e.container instanceof Object&&(t.container=z({},g.container,e.container)),e.template&&(e=w(e.template)?e.template:document.querySelector(e.template),t.template=e),g=z({},g,t),h.forEach(function(e){e.dispatchEvent(b("medium-zoom:update",{detail:{zoom:E}}))}),E},clone:function(){return e(z({},g,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},attach:o,detach:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];v.zoomed&&u();var n=0<t.length?t.reduce(function(e,t){return[].concat(e,a(t))},[]):h;return n.forEach(function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(b("medium-zoom:detach",{detail:{zoom:E}}))}),h=h.filter(function(e){return-1===n.indexOf(e)}),E},on:function(t,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return h.forEach(function(e){e.addEventListener("medium-zoom:"+t,o,n)}),s.push({type:"medium-zoom:"+t,listener:o,options:n}),E},off:function(t,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return h.forEach(function(e){e.removeEventListener("medium-zoom:"+t,o,n)}),s=s.filter(function(e){return!(e.type==="medium-zoom:"+t&&e.listener.toString()===o.toString())}),E},getOptions:function(){return g},getImages:function(){return h},getZoomedImage:function(){return v.original}};return E}}),function(){var n=window.matchMedia("(max-width: 767px)");const e=document.querySelector(".gh-head"),i=e.querySelector(".gh-head-menu"),r=i.querySelector(".nav");if(r){document.querySelector(".gh-head-logo");var d,t=r.innerHTML;if(n.matches){const s=r.querySelectorAll("li");s.forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"})}function o(){if(!n.matches){const e=[];for(;r.offsetWidth+50>i.offsetWidth;){if(!r.lastElementChild)return;e.unshift(r.lastElementChild),r.lastElementChild.remove()}if(e.length){const t=document.createElement("button");t.setAttribute("class","nav-more-toggle"),t.setAttribute("aria-label","More"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>';const o=document.createElement("div");o.setAttribute("class","gh-dropdown"),10<=e.length?(document.body.classList.add("is-dropdown-mega"),o.style.gridTemplateRows="repeat("+Math.ceil(e.length/2)+", 1fr)"):document.body.classList.remove("is-dropdown-mega"),e.forEach(function(e){o.appendChild(e)}),t.appendChild(o),r.appendChild(t),document.body.classList.add("is-dropdown-loaded"),t.addEventListener("click",function(){document.body.classList.toggle("is-dropdown-open")}),d=function(e){!t.contains(e.target)&&document.body.classList.contains("is-dropdown-open")&&document.body.classList.remove("is-dropdown-open")},window.addEventListener("click",d)}else document.body.classList.add("is-dropdown-loaded")}}imagesLoaded(e,function(){o()}),window.addEventListener("resize",function(){setTimeout(function(){window.removeEventListener("click",d),r.innerHTML=t,o()},1)})}}(),function(t,o){var n,i,r,d,s,a,c,m;function l(){if(404===this.status)return t.removeEventListener("scroll",h),void t.removeEventListener("resize",f);this.response.querySelectorAll("article.post-card").forEach(function(e){i.appendChild(o.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?n.href=e.href:(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)),m=o.documentElement.scrollHeight,s=d=!1}function e(){var e;s||(a+c<=m-r?d=!1:(s=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",l),e.open("GET",n.href),e.send(null)))}function u(){d||t.requestAnimationFrame(e),d=!0}function h(){a=t.scrollY,u()}function f(){c=t.innerHeight,m=o.documentElement.scrollHeight,u()}o.documentElement.classList.contains("no-infinite-scroll")||(!(n=o.querySelector("link[rel=next]"))||(i=o.querySelector(".post-feed"))&&(s=d=!(r=300),a=t.scrollY,c=t.innerHeight,m=o.documentElement.scrollHeight,t.addEventListener("scroll",h,{passive:!0}),t.addEventListener("resize",f),u()))}(window,document);
//# sourceMappingURL=casper.js.map
